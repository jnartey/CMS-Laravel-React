{"ast":null,"code":"import _defineProperty from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/user/Documents/Dev/api-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/user/Documents/Dev/api-client/src/components/admin/login.jsx\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MarkdownElement from \"@material-ui/docs/MarkdownElement\";\nimport \"./admin.css\";\nimport { NavLink } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { PostData } from \"../../services/PostData\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1\n    },\n    demo: {\n      border: \"1px solid red\"\n    },\n    paper: {\n      padding: theme.spacing.unit * 2,\n      height: \"100%\",\n      color: theme.palette.text.secondary\n    },\n    control: {\n      padding: theme.spacing.unit * 2\n    }\n  };\n};\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      remember_me: \"\",\n      isLoggedIn: false\n    };\n    var classes = _this.props;\n    _this.login = _this.login.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      if (this.state.email && this.state.password) {\n        PostData(\"login\", this.state).then(function (result) {\n          var reponseJSON = result;\n\n          if (reponseJSON.data) {\n            sessionStorage.setItem(\"user\", JSON.stringify(reponseJSON.data));\n            console.log(sessionStorage.getItem(\"user\"));\n\n            _this2.setState({\n              isLoggedIn: true\n            });\n          } else {\n            console.log(\"Login error!\");\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value)); //console.log(this.state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isLoggedIn) {\n        return React.createElement(Redirect, {\n          to: \"/admin/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      } // if (sessionStorage.getItem(\"user\")) {\n      //   return <Redirect to=\"/admin/dashboard\" />;\n      // }\n\n\n      return React.createElement(\"div\", {\n        className: this.classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: this.loginContainer,\n        container: true,\n        direction: \"row\",\n        justify: \"center\",\n        alignItems: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        xm: 4,\n        xl: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"xs=6\")))) // <div className=\"p-grid p-justify-center\" style={{ height: \"100vh\" }}>\n      //   <div className=\"p-sm-12 p-md-4 p-lg-3 p-xl-3 p-col-align-center\">\n      //     <div className=\"p-col-12\">\n      //       <div className=\"p-inputgroup\">\n      //         <span className=\"p-inputgroup-addon\">\n      //           <i className=\"pi pi-envelope\" />\n      //         </span>\n      //         <InputText\n      //           name=\"email\"\n      //           placeholder=\"Email\"\n      //           onChange={this.onChange}\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col-12\">\n      //       <div className=\"p-inputgroup\">\n      //         <span className=\"p-inputgroup-addon\">\n      //           <i className=\"pi pi-lock\" />\n      //         </span>\n      //         <Password\n      //           id=\"password\"\n      //           name=\"password\"\n      //           value={this.state.value}\n      //           onChange={this.onChange}\n      //           placeholder=\"Password\"\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col p-grid\">\n      //       <div className=\"p-col-7\">\n      //         <Checkbox\n      //           inputId=\"remember_me\"\n      //           name=\"remember_me\"\n      //           value=\"remember\"\n      //           checked={this.state.isChecked}\n      //           onChange={this.onChange}\n      //         />\n      //         <label\n      //           htmlFor=\"remember_me\"\n      //           className=\"p-checkbox-label remember-me\"\n      //         >\n      //           Remember me\n      //         </label>\n      //       </div>\n      //       <div className=\"p-col-5 text-right\">\n      //         <Button\n      //           label=\"Login\"\n      //           className=\"p-button-raised p-button-secondary\"\n      //           onClick={this.login}\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col-12\">\n      //       <div className=\"reset-password\">\n      //         <NavLink to=\"/admin/login/reset-password\">\n      //           <span>Forgot your password?</span>\n      //         </NavLink>\n      //       </div>\n      //     </div>\n      //   </div>\n      // </div>\n      ;\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Login);","map":{"version":3,"sources":["/Users/user/Documents/Dev/api-client/src/components/admin/login.jsx"],"names":["React","Component","Redirect","PropTypes","withStyles","MarkdownElement","NavLink","Grid","Paper","PostData","styles","theme","root","flexGrow","demo","border","paper","padding","spacing","unit","height","color","palette","text","secondary","control","Login","props","state","email","password","remember_me","isLoggedIn","classes","login","bind","onChange","then","result","reponseJSON","data","sessionStorage","setItem","JSON","stringify","console","log","getItem","setState","e","target","name","value","loginContainer","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MarkdownElement from \"@material-ui/docs/MarkdownElement\";\nimport \"./admin.css\";\nimport { NavLink } from \"react-router-dom\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { PostData } from \"../../services/PostData\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  demo: {\n    border: \"1px solid red\"\n  },\n  paper: {\n    padding: theme.spacing.unit * 2,\n    height: \"100%\",\n    color: theme.palette.text.secondary\n  },\n  control: {\n    padding: theme.spacing.unit * 2\n  }\n});\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      remember_me: \"\",\n      isLoggedIn: false\n    };\n    const classes = this.props;\n    this.login = this.login.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  login() {\n    if (this.state.email && this.state.password) {\n      PostData(\"login\", this.state).then(result => {\n        let reponseJSON = result;\n        if (reponseJSON.data) {\n          sessionStorage.setItem(\"user\", JSON.stringify(reponseJSON.data));\n          console.log(sessionStorage.getItem(\"user\"));\n          this.setState({ isLoggedIn: true });\n        } else {\n          console.log(\"Login error!\");\n        }\n      });\n    }\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    //console.log(this.state);\n  }\n\n  render() {\n    if (this.state.isLoggedIn) {\n      return <Redirect to=\"/admin/dashboard\" />;\n    }\n\n    // if (sessionStorage.getItem(\"user\")) {\n    //   return <Redirect to=\"/admin/dashboard\" />;\n    // }\n\n    return (\n      <div className={this.classes.root}>\n        <Grid\n          className={this.loginContainer}\n          container\n          direction=\"row\"\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <Grid item xs={12} xm={4} xl={3}>\n            <Paper className=\"\">xs=6</Paper>\n          </Grid>\n        </Grid>\n      </div>\n      // <div className=\"p-grid p-justify-center\" style={{ height: \"100vh\" }}>\n      //   <div className=\"p-sm-12 p-md-4 p-lg-3 p-xl-3 p-col-align-center\">\n      //     <div className=\"p-col-12\">\n      //       <div className=\"p-inputgroup\">\n      //         <span className=\"p-inputgroup-addon\">\n      //           <i className=\"pi pi-envelope\" />\n      //         </span>\n      //         <InputText\n      //           name=\"email\"\n      //           placeholder=\"Email\"\n      //           onChange={this.onChange}\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col-12\">\n      //       <div className=\"p-inputgroup\">\n      //         <span className=\"p-inputgroup-addon\">\n      //           <i className=\"pi pi-lock\" />\n      //         </span>\n      //         <Password\n      //           id=\"password\"\n      //           name=\"password\"\n      //           value={this.state.value}\n      //           onChange={this.onChange}\n      //           placeholder=\"Password\"\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col p-grid\">\n      //       <div className=\"p-col-7\">\n      //         <Checkbox\n      //           inputId=\"remember_me\"\n      //           name=\"remember_me\"\n      //           value=\"remember\"\n      //           checked={this.state.isChecked}\n      //           onChange={this.onChange}\n      //         />\n      //         <label\n      //           htmlFor=\"remember_me\"\n      //           className=\"p-checkbox-label remember-me\"\n      //         >\n      //           Remember me\n      //         </label>\n      //       </div>\n      //       <div className=\"p-col-5 text-right\">\n      //         <Button\n      //           label=\"Login\"\n      //           className=\"p-button-raised p-button-secondary\"\n      //           onClick={this.login}\n      //         />\n      //       </div>\n      //     </div>\n      //     <div className=\"p-col-12\">\n      //       <div className=\"reset-password\">\n      //         <NavLink to=\"/admin/login/reset-password\">\n      //           <span>Forgot your password?</span>\n      //         </NavLink>\n      //       </div>\n      //     </div>\n      //   </div>\n      // </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(Login);\n"]},"metadata":{},"sourceType":"module"}